2019-03-10 徐亚辉

设计模式概述：不要为了套用设计模式而使用设计模式，而是在业务上遇到问题时，很自然的想到设计模式作为一种解决方案。

单例模式：

1.定义：确保一个类在任何情况下都绝对只有一个实例，隐藏其所有的构造方法，并提供一个全局访问点。

2.spring中的使用： ServletContext,ServletConfig,ApplicationContext,DBPool

3.单例模式的优缺点：
  （1）优点：在内存中只有一个实例，减少了内存开销；
          可以避免对资源的多重利用；
          设置全局访问点，严格控制访问；

  （2）缺点：没有接口，扩展困难；
            如果要扩展单例对象，只有修改代码，没有其他途径；


4.单例模式的常见写法:
 （1）饿汉式单例
      在单例类首次加载时就创建实例
      优点：绝对线程安全
      缺点：浪费内存空间

 （2）懒汉式单例
      被外部类调用时才创建实例

 （3）注册式单例
      将每一个实例都注册到同一的容器中，使用同一标识获取实例

 （4）ThreadLocal式单例
      保证线程内部的全局唯一，且天生线程安全

5.单例模式使用注意事项：
  （1）私有化构造器
  （2）保证线程安全
  （3）延迟加载
  （4）防止序列化和反序列化破坏单例
  （5）预防反射攻击单例